<div class="main-content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-content">
                            <button class="btn btn-default pull-right" (click)="downloadSubmissionsCsv()">Download CSV</button>
                        
                        <div fxLayoutAlign="center center">
                            <mat-form-field fxFlex="40%">
                                <input matInput type="text" (keyup)="doFilter($event.target.value)" placeholder="Filter">
                            </mat-form-field>
                        </div>

                        <mat-table [dataSource]="dataSource" matSort >
                            <ng-container matColumnDef="teamName">
                                <mat-header-cell *matHeaderCellDef mat-sort-header>Team Name</mat-header-cell>
                                <mat-cell *matCellDef="let element">{{ element.teamName || 'No team name' }}<br><small class="text-success">{{element.email}}</small></mat-cell>
                            </ng-container>

                            <ng-container matColumnDef="category">
                                <mat-header-cell *matHeaderCellDef mat-sort-header>Category</mat-header-cell>
                                <mat-cell *matCellDef="let element">{{ element.category | titlecase }}</mat-cell>
                            </ng-container>

                            <ng-container matColumnDef="stage">
                                <mat-header-cell *matHeaderCellDef mat-sort-header>Stage</mat-header-cell>
                                <mat-cell *matCellDef="let element">{{ element.stage || 'ideation' | titlecase }}</mat-cell>
                            </ng-container>

                            <ng-container matColumnDef="r1Score">
                                <mat-header-cell *matHeaderCellDef mat-sort-header>R1 Score</mat-header-cell>
                                <mat-cell *matCellDef="let element">{{ element.r1Score | number }}</mat-cell>
                            </ng-container>

                            <ng-container matColumnDef="r2Score">
                                <mat-header-cell *matHeaderCellDef mat-sort-header>R2 Score</mat-header-cell>
                                <mat-cell *matCellDef="let element">{{ element.r2Score | number }}</mat-cell>
                            </ng-container>

                            <ng-container matColumnDef="actions">
                                <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
                                <mat-cell *matCellDef="let element">
                                    <a class="btn btn-icon btn-google">
                                        <span data-notify="icon" class="ti-stats-up"></span>
                                    </a>
                                    <a class="btn btn-icon btn-fill btn-tumblr" [routerLink]="['/a/entry/detail', element.submissionId]" target="_blank">
                                        <span data-notify="icon" class="ti-angle-right"></span>
                                    </a>
                                </mat-cell>
                            </ng-container>

                            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
                        </mat-table>

                        <mat-paginator #paginator [pageSize]="100" [pageSizeOptions]="[50, 100, 200]" >
                        </mat-paginator>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
